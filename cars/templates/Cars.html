{% extends "base.html" %}
{% load humanize %}

{% block title %}Nossos Carros - {{ block.super }}{% endblock %}

{% block content %}
<div class="search-container">
    <form method="GET" action="{% url 'cars' %}" style="display: flex; gap: 10px;">
        <input type="text" name="search" placeholder="Buscar por marca ou modelo..." value="{{ request.GET.search }}">
        <button type="submit">Buscar</button>
    </form>
</div>

<div class="car-grid">
    {% for car in cars %}
    <a href="{% url 'car_detail' car.pk %}" class="car-card-link">
        <div class="car-card">
            <div class="car-image">
                <img src="{{ car.photo.url }}" alt="{{ car.model }} - {{ car.brand }}">
            </div>
            <div class="car-info">
                <h2>{{ car.brand }} {{ car.model }}</h2>
                <div class="car-details">
                    <span>Ano: {{ car.factory_year }}/{{ car.model_year }}</span>
                    <p class="price">R$ {{ car.value|intcomma }}</p>
                </div>
            </div>
        </div>
    </a>
    {% empty %}
    <p class="no-results">Nenhum carro encontrado com os crit√©rios de busca.</p>
    {% endfor %}
</div>
{% endblock %}